UAGBForms={init(a,e){const t=document.querySelector(e),c=t.querySelector(".uagb-forms-main-form"),r=c.querySelectorAll(".uagb-forms-phone-input");if(0!==r.length)for(let e=0;e<r.length;e++)r[e].addEventListener("keypress",function(e){e=e.which||e.keyCode;return 45===e||!(31<e&&(e<48||57<e))});const s=c.querySelectorAll(".uagb-forms-toggle-input");if(0!==s.length)for(let t=0;t<s.length;t++)s[t].addEventListener("change",function(){var e;s[t].checked?(e=s[t].getAttribute("data-truestate"),s[t].setAttribute("value",e)):(e=s[t].getAttribute("data-falsestate"),s[t].setAttribute("value",e))});const o=t.querySelectorAll(".uagb-forms-checkbox-wrap");if(0!==o.length)for(let e=0;e<o;e++){const m=o[e].querySelectorAll("input[type=checkbox]");if(0<m.length){for(let e=0;e<m.length;e++)m[e].addEventListener("change",window.UAGBForms._checkValidity);window.UAGBForms._checkValidity()}}let n="",l="";if(!0===a.reCaptchaEnable&&"v2"===a.reCaptchaType){if(n=uagb_forms_data.recaptcha_site_key_v2,n){null===document.querySelector(".uagb-forms-field-set").getAttribute("data-sitekey")&&document.querySelector(".g-recaptcha ").setAttribute("data-sitekey",n);const d=document.createElement("script");d.type="text/javascript",d.src="https://www.google.com/recaptcha/api.js",document.head.appendChild(d)}}else if(!0===a.reCaptchaEnable&&"v3"===a.reCaptchaType&&(l=uagb_forms_data.recaptcha_site_key_v3,l)){if(a.hidereCaptchaBatch){if(void 0===document.getElementsByClassName("grecaptcha-badge")[0])return;const g=document.getElementsByClassName("grecaptcha-badge")[0];g.style.visibility="hidden"}const p=document.createElement("script");p.type="text/javascript",p.src="https://www.google.com/recaptcha/api.js?render="+l,document.head.appendChild(p)}const i=document.getElementsByClassName("uagb-block-"+a.block_id);const u=i[0].children[0].children;for(let e=0;e<u.length;e++){if(u[e].classList.contains("uag-col-2")&&u[e+1].classList.contains("uag-col-2")){const h=document.createElement("div");h.className="uag-col-2-wrap uag-col-wrap-"+e,u[e+1].after(h);const f=i[0].getElementsByClassName("uag-col-wrap-"+e);f[0].appendChild(u[e]),f[0].appendChild(u[e])}if(u[e].classList.contains("uag-col-3")&&u[e+1].classList.contains("uag-col-3")&&u[e+2].classList.contains("uag-col-3")){const b=document.createElement("div");b.className="uag-col-3-wrap uag-col-wrap-"+e,u[e+2].after(b);const y=i[0].getElementsByClassName("uag-col-wrap-"+e);y[0].appendChild(u[e]),y[0].appendChild(u[e]),y[0].appendChild(u[e])}if(u[e].classList.contains("uag-col-4")&&u[e+1].classList.contains("uag-col-4")&&u[e+2].classList.contains("uag-col-4")&&u[e+3].classList.contains("uag-col-4")){const _=document.createElement("div");_.className="uag-col-4-wrap uag-col-wrap-"+e,u[e+3].after(_);const C=i[0].getElementsByClassName("uag-col-wrap-"+e);C[0].appendChild(u[e]),C[0].appendChild(u[e]),C[0].appendChild(u[e]),C[0].appendChild(u[e])}}c.addEventListener("submit",function(t){if(t.preventDefault(),!0===a.reCaptchaEnable&&"v3"===a.reCaptchaType&&l){if(0===document.getElementsByClassName("grecaptcha-logo").length)return!(document.querySelector(".uagb-form-reacaptcha-error-"+a.block_id).innerHTML='<p style="color:red !important" class="error-captcha">Invalid Google reCAPTCHA Site Key.</p>');grecaptcha.ready(function(){grecaptcha.execute(l,{action:"submit"}).then(function(e){if(e){if(0===document.getElementsByClassName("uagb-forms-recaptcha").length)return!(document.querySelector(".uagb-form-reacaptcha-error-"+a.block_id).innerHTML='<p style="color:red !important" class="error-captcha">Google reCAPTCHA Response not found.</p>');document.getElementById("g-recaptcha-response").value=e,window.UAGBForms._formSubmit(t,this,a,n,l)}})})}else window.UAGBForms._formSubmit(t,this,a,n,l)})},_isChecked(){for(let e=0;e<checkboxes.length;e++)if(checkboxes[e].checked)return!0;return!1},_checkValidity(){var e=window.UAGBForms._isChecked?"":"At least one checkbox must be selected.";checkboxes[i].setCustomValidity(e)},_formSubmit(e,t,r,a,c){e.preventDefault();let s;if(!0===r.reCaptchaEnable)if("v2"===r.reCaptchaType&&a){if(0===document.getElementsByClassName("uagb-forms-recaptcha").length)return!(document.querySelector(".uagb-form-reacaptcha-error-"+r.block_id).innerHTML='<p style="color:red !important" class="error-captcha"> Google reCAPTCHA Response not found.</p>');if(s=document.getElementById("g-recaptcha-response").value,!s)return document.querySelector(".uagb-form-reacaptcha-error-"+r.block_id).innerHTML='<p style="color:red !important" class="error-captcha">'+r.captchaMessage+"</p>",!1;document.querySelector(".uagb-form-reacaptcha-error-"+r.block_id).innerHTML=""}else"v3"===r.reCaptchaType&&c&&(s=document.getElementById("g-recaptcha-response").value);const o=window.UAGBForms._serializeIt(t),n={};n.id=r.block_id;for(let t=0;t<o.length;t++){var l=document.getElementById(o[t].name);if(o[t].name.endsWith("[]")){var i=document.getElementById(o[t].name);i in n||(n[i]=[]),n[i].push(o[t].value)}else if(o[t].value.startsWith("+")){let e=o[t].name;e=e.substring(0,e.length-2),e in n||(n[e]=[]),n[e].push(o[t].value)}else null!==l&&(n[l.innerHTML]=o[t].value)}t={to:r.afterSubmitToEmail,cc:r.afterSubmitCcEmail,bcc:r.afterSubmitBccEmail,subject:r.afterSubmitEmailSubject};fetch(uagb_forms_data.ajax_url,{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),body:new URLSearchParams({action:"uagb_process_forms",nonce:uagb_forms_data.uagb_forms_ajax_nonce,form_data:JSON.stringify(n),sendAfterSubmitEmail:r.sendAfterSubmitEmail,after_submit_data:JSON.stringify(t),captcha_version:r.reCaptchaType,captcha_response:s})}).then(e=>e.json()).then(function(e){const t=document.querySelector('[name="uagb-form-'+r.block_id+'"]');if(t.style.display="none",200===e.data){if("message"===r.confirmationType){const a=document.querySelector(".uagb-forms-success-message-"+r.block_id);a.classList.remove("uagb-forms-submit-message-hide"),a.classList.add("uagb-forms-success-message")}"url"===r.confirmationType&&window.location.replace(r.confirmationUrl)}else if(400===e.data&&"message"===r.confirmationType){const c=document.querySelector(".uagb-forms-failed-message-"+r.block_id);c.classList.remove("uagb-forms-submit-message-hide"),c.classList.add("uagb-forms-failed-message")}}).catch(function(e){})},_serializeIt(e){return Array.apply(0,e.elements).map(t=>(e=>"radio"!==t.type&&"checkbox"!==t.type||t.checked?e:null)({name:t.name,value:t.value})).filter(e=>e)}};