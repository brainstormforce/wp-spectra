UAGBForms={init(a,u){const m=document.querySelector(u),e=m.querySelector(".uagb-forms-main-form"),d=e.querySelectorAll(".uagb-forms-phone-input");if(0!==d.length)for(let e=0;e<d.length;e++)d[e].addEventListener("keypress",function(e){e=e.which||e.keyCode;return 45===e||!(31<e&&(e<48||57<e))});const c=e.querySelectorAll(".uagb-forms-toggle-input");if(0!==c.length)for(let t=0;t<c.length;t++)c[t].addEventListener("change",function(){var e;c[t].checked?(e=c[t].getAttribute("data-truestate"),c[t].setAttribute("value",e)):(e=c[t].getAttribute("data-falsestate"),c[t].setAttribute("value",e))});const p=m.querySelectorAll(".uagb-forms-checkbox-wrap");if(0!==p.length)for(let e=0;e<p;e++){const n=p[e].querySelectorAll("input[type=checkbox]");if(0<n.length){for(let e=0;e<n.length;e++)n[e].addEventListener("change",window.UAGBForms._checkValidity);window.UAGBForms._checkValidity()}}if(!0===a.reCaptchaEnable&&"v2"===a.reCaptchaType&&a.reCaptchaSiteKeyV2){const r=document.createElement("script");r.type="text/javascript",r.src="https://www.google.com/recaptcha/api.js",document.head.appendChild(r)}else if(!0===a.reCaptchaEnable&&"v3"===a.reCaptchaType&&a.reCaptchaSiteKeyV3){if(a.hidereCaptchaBatch){if(void 0===document.getElementsByClassName("grecaptcha-badge")[0])return;const h=document.getElementsByClassName("grecaptcha-badge")[0];h.style.visibility="hidden"}const o=document.createElement("script");o.type="text/javascript",o.src="https://www.google.com/recaptcha/api.js?render="+a.reCaptchaSiteKeyV3,document.head.appendChild(o)}const t=document.getElementsByClassName("uagb-block-"+a.block_id);const s=t[0].children[0].children;for(let e=0;e<s.length;e++){if(s[e].classList.contains("uag-col-2")&&s[e+1].classList.contains("uag-col-2")){const g=document.createElement("div"),f=(g.className="uag-col-2-wrap uag-col-wrap-"+e,s[e+1].after(g),t[0].getElementsByClassName("uag-col-wrap-"+e));f[0].appendChild(s[e]),f[0].appendChild(s[e])}if(s[e].classList.contains("uag-col-3")&&s[e+1].classList.contains("uag-col-3")&&s[e+2].classList.contains("uag-col-3")){const b=document.createElement("div"),i=(b.className="uag-col-3-wrap uag-col-wrap-"+e,s[e+2].after(b),t[0].getElementsByClassName("uag-col-wrap-"+e));i[0].appendChild(s[e]),i[0].appendChild(s[e]),i[0].appendChild(s[e])}if(s[e].classList.contains("uag-col-4")&&s[e+1].classList.contains("uag-col-4")&&s[e+2].classList.contains("uag-col-4")&&s[e+3].classList.contains("uag-col-4")){const y=document.createElement("div"),l=(y.className="uag-col-4-wrap uag-col-wrap-"+e,s[e+3].after(y),t[0].getElementsByClassName("uag-col-wrap-"+e));l[0].appendChild(s[e]),l[0].appendChild(s[e]),l[0].appendChild(s[e]),l[0].appendChild(s[e])}}e.addEventListener("submit",function(t){t.preventDefault(),!0===a.reCaptchaEnable&&"v3"===a.reCaptchaType&&a.reCaptchaSiteKeyV3?grecaptcha.addEventListener("DOMContentLoaded",function(){grecaptcha.execute(a.reCaptchaSiteKeyV3,{action:"submit"}).then(function(e){e&&(document.getElementById("g-recaptcha-response").value=e,window.UAGBForms._formSubmit(t,this,a))})}):window.UAGBForms._formSubmit(t,this,a)})},_isChecked(){for(let e=0;e<checkboxes.length;e++)if(checkboxes[e].checked)return!0;return!1},_checkValidity(){var e=window.UAGBForms._isChecked?"":"At least one checkbox must be selected.";checkboxes[i].setCustomValidity(e)},_formSubmit(e,t,s){e.preventDefault();let a,c;if(!0===s.reCaptchaEnable&&"v2"===s.reCaptchaType&&s.reCaptchaSiteKeyV2){if(!(c=t[0].getElementsByClassName("uagb-forms-recaptcha")[0].value))return document.querySelector(".uagb-form-reacaptcha-error-"+s.block_id).innerHTML='<p style="color:red !important" class="error-captcha">'+s.captchaMessage+"</p>",!1;document.querySelector(".uagb-form-reacaptcha-error-"+s.block_id).innerHTML="",a={secret:s.reCaptchaSecretKeyV2,sitekey:s.reCaptchaSiteKeyV2}}!0===s.reCaptchaEnable&&"v3"===s.reCaptchaType&&s.reCaptchaSiteKeyV3&&(a={secret:s.reCaptchaSecretKeyV3,sitekey:s.reCaptchaSiteKeyV3},c=document.getElementById("g-recaptcha-response").value);const n=window.UAGBForms._serializeIt(t),r={};r.id=s.block_id;for(let t=0;t<n.length;t++){var o=document.getElementById(n[t].name);if(n[t].name.endsWith("[]")){var i=document.getElementById(n[t].name);i in r||(r[i]=[]),r[i].push(n[t].value)}else if(n[t].value.startsWith("+")){let e=n[t].name;(e=e.substring(0,e.length-2))in r||(r[e]=[]),r[e].push(n[t].value)}else null!==o&&(r[o.innerHTML]=n[t].value)}e={to:s.afterSubmitToEmail,cc:s.afterSubmitCcEmail,bcc:s.afterSubmitBccEmail,subject:s.afterSubmitEmailSubject};const l=document.createElement("span");l.class="components-spinner",t.querySelector(".uagb-forms-main-submit-button-wrap").appendChild(l);t=a||"";fetch(uagb_forms_data.ajax_url,{method:"POST",headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"}),body:new URLSearchParams({action:"uagb_process_forms",nonce:uagb_forms_data.uagb_forms_ajax_nonce,form_data:JSON.stringify(r),sendAfterSubmitEmail:s.sendAfterSubmitEmail,after_submit_data:JSON.stringify(e),uagab_captcha_keys:t,captcha_response:c})}).then(e=>e.json()).then(function(e){const t=document.querySelector('[name="uagb-form-'+s.block_id+'"]');if(t.style.display="none",200===e.data){if("message"===s.confirmationType){const a=document.querySelector(".uagb-forms-success-message-"+s.block_id);a.classList.remove("uagb-forms-submit-message-hide"),a.classList.add("uagb-forms-success-message")}"url"===s.confirmationType&&window.location.replace(s.confirmationUrl)}else if(400===e.data&&"message"===s.confirmationType){const c=document.querySelector(".uagb-forms-failed-message-"+s.block_id);c.classList.remove("uagb-forms-submit-message-hide"),c.classList.add("uagb-forms-failed-message")}}).catch(function(e){})},_serializeIt(e){return Array.apply(0,e.elements).map(t=>(e=>"radio"!==t.type&&"checkbox"!==t.type||t.checked?e:null)({name:t.name,value:t.value})).filter(e=>e)}};